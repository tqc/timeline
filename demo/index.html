<!DOCTYPE HTML>
<html>
<head>
	<title>Scroller - Canvas</title>
	<link rel="stylesheet" href="ui.css" />
	
	<script src="../lib/Animate.js"></script>
	<script src="../lib/Scroller.js"></script>

	<script src="Tiling.js"></script>
</head>
<body>
	<div id="container">
		<canvas id="content"></canvas>
	</div>
	
	<div id="settings">
		
	</div>
	
	<!-- Custom rendering code -->
	<script type="text/javascript">

	// Settings
	var contentWidth = 2000;
	var contentHeight = 2000;
	var cellWidth = 100;
	var cellHeight = 20;
	
	var content = document.getElementById('content');
	var context = content.getContext('2d');
	var tiling = new Tiling;


	// Canvas renderer
	var render = function(left, top, zoom) {
		
		// Sync current dimensions with canvas
		content.width = clientWidth;
		content.height = clientHeight;
		
		// Full clearing
		context.clearRect(0, 0, clientWidth, clientHeight);

		// Use tiling
		tiling.setup(clientWidth, clientHeight, contentWidth, contentHeight, cellWidth, cellHeight);
		tiling.render(left, top, zoom, paint);
	};
	
	
	// Cell Paint Logic
	var paint = function(row, col, left, top, width, height, zoom) {
		
		context.fillStyle = row%2 + col%2 > 0 ? "#ddd" : "#fff";
		context.fillRect(left, top, width, height);
		
		context.fillStyle = "black";
		context.font = (14).toFixed(2) + 'px "Helvetica Neue", Helvetica, Arial, sans-serif';
		
		// Pretty primitive text positioning :)
		context.fillText(row + "," + col, left + (6), top + (18));
		
	};


	</script>
	
	<!-- Create Scroller, bind UI layer and mouse/touch events -->
	<script src="ui.js"></script>
	
	
</body>
</html>
